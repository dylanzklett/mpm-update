namespace :populate do
  desc "Populate Settings"
  task :populate_settings => [:environment] do
    settings = [
      {type: nil, code: 'fabric_color', value: 'Red, Blue, Green' },
      {type: nil, code: 'trough_color', value: 'Red, Blue, Green' },
      {type: nil, code: 'center_support', value: '2, 4, 6' },
      {type: nil, code: 'end_bracket', value: '2, 4, 6' },
      {type: 'UnitSetting', code: 'width_multiplicity', value: '20 in' },
      {type: nil, code: 'multiplicity_items', value: '[]' },
      {type: nil, code: 'installation_price', value: 25 },
      {type: nil, code: 'price_matrix', value: {"1,1":"340.22","1,2":"510.01","1,3":"693.12","1,4":"831.13","1,5":"1086.1","1,6":"1220.24","1,7":"1358.25","1,8":"1583.8","1,9":"1734.32","2,1":"345.92","2,2":"521.4","2,3":"710.21","2,4":"853.91","2,5":"1114.58","2,6":"1254.4","2,7":"1398.12","2,8":"1629.34","2,9":"1785.57","3,1":"351.89","3,2":"533.35","3,3":"728.14","3,4":"877.83","3,5":"1144.46","3,6":"1290.26","3,7":"1439.95","3,8":"1677.16","3,9":"1839.37","4,1":"358.18","4,2":"545.9","4,3":"746.96","4,4":"902.93","4,5":"1175.85","4,6":"1327.92","4,7":"1483.89","4,8":"1727.39","4,9":"1895.86","5,1":"376.5","5,2":"582.55","5,3":"801.93","5,4":"976.21","5,5":"1267.45","5,6":"1437.85","5,7":"1612.13","5,8":"1873.95","5,9":"2060.74","6,1":"384","6,2":"597.57","6,3":"824.44","6,4":"1006.23","6,5":"1304.98","6,6":"1482.89","6,7":"1664.69","6,8":"1933.99","6,9":"2128.3","7,1":"391.88","7,2":"613.33","7,3":"848.09","7,4":"1037.76","7,5":"1344.38","7,6":"1530.19","7,7":"1719.86","7,8":"1997.05","7,9":"2199.25","8,1":"506.13","8,2":"754.92","8,3":"1027.34","8,4":"1225.3","8,5":"1600.54","8,6":"1794.6","8,7":"1992.56","8,8":"2330.55","8,9":"2541.02","9,1":"514.82","9,2":"772.29","9,3":"1053.41","9,4":"1260.05","9,5":"1644","9,6":"1846.75","9,7":"2053.39","9,8":"2400.07","9,9":"2619.22","10,1":"523.93","10,2":"790.55","10,3":"1080.78","10,4":"1296.56","10,5":"1689.6","10,6":"1901.5","10,7":"2117.25","10,8":"2473.07","10,9":"2701.34"}.to_json },
      {type: nil, code: 'trough_step', value: '15, 25, 45, 80, 150, 230' },
      {type: nil, code: 'trough_matrix', value: {"1,1":"A9-15","1,2":"A16-25","1,3":"A26-45","1,4":"A46-80","1,5":"A81-150","1,6":"A151-230","2,1":"A9-15","2,2":"A16-25","2,3":"A26-45","2,4":"A46-80","2,5":"A81-150","2,6":"A151-230","3,1":"A9-15","3,2":"A16-25","3,3":"A26-45","3,4":"A46-80","3,5":"A81-150","3,6":"A151-230","4,1":"A9-15","4,2":"A16-25","4,3":"A26-45","4,4":"A46-80","4,5":"A81-150","4,6":"A151-230","5,1":"B9-15","5,2":"B16-25","5,3":"B26-45","5,4":"B46-80","5,5":"B81-150","5,6":"B151-230","6,1":"B9-15","6,2":"B16-25","6,3":"B26-45","6,4":"B46-80","6,5":"B81-150","6,6":"B151-230","7,1":"B9-15","7,2":"B16-25","7,3":"B26-45","7,4":"B46-80","7,5":"B81-150","7,6":"B151-230","8,1":"B9-15","8,2":"B16-25","8,3":"B26-45","8,4":"B46-80","8,5":"B81-150","8,6":"B151-230","9,1":"B9-15","9,2":"B16-25","9,3":"B26-45","9,4":"B46-80","9,5":"B81-150","9,6":"B151-230","10,1":"B9-15","10,2":"B16-25","10,3":"B26-45","10,4":"B46-80","10,5":"B81-150","10,6":"B151-230"}.to_json }
    ]
    Setting.transaction do
      settings.each do |setting_attr|
        if Setting.where(code: setting_attr[:code]).empty?
          Setting.create!(setting_attr)
        end
      end
    end
  end
end
